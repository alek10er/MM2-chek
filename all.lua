local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/alek10er/MM2-chek/main/MM2%20loding"))()

print("üü¢ M9kuuvs sistem live")

-- –°—Å—ã–ª–∫–∞ –Ω–∞ –ë–∏–±–ª–∏–æ—Ç–µ–∫—É
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/alek10er/MM2-chek/main/UI.lua"))()

-- –°–æ–∑–¥–∞—Ç—å –æ–∫–Ω–æ UI
local Window = Library.CreateLib("M9kuuvs system", "RJTheme3")

local Tab = Window:NewTab("Main")

-- –ü–æ–¥—Å–µ–∫—Ü–∏—è
local Section = Tab:NewSection("Main")

-- –°–µ–∫—Ü–∏—è
local Tab = Window:NewTab("ESP")

-- –ü–æ–¥—Å–µ–∫—Ü–∏—è
local Section = Tab:NewSection("Esp Settings")


-- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∏–≥—Ä–æ–∫–æ–≤
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local espFolder = Instance.new("Folder")
espFolder.Name = "ESP_Highlights"
espFolder.Parent = workspace

local highlights = {}

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞
function getPlayerColor(player)
    local character = player.Character
    if not character then return Color3.fromRGB(0, 255, 0) end -- –∑–µ–ª–µ–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    
    local backpack = player:FindFirstChild("Backpack")
    local hasKnife = false
    local hasGun = false
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
    if backpack then
        for _, tool in ipairs(backpack:GetChildren()) do
            if tool:IsA("Tool") then
                local toolName = tool.Name:lower()
                if toolName:find("knife") or toolName:find("–Ω–æ–∂") then
                    hasKnife = true
                elseif toolName:find("gun") or toolName == "gun" then
                    hasGun = true
                end
            end
        end
    end
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ —Ä—É–∫–∞—Ö
    if character then
        for _, tool in ipairs(character:GetChildren()) do
            if tool:IsA("Tool") then
                local toolName = tool.Name:lower()
                if toolName:find("knife") or toolName:find("–Ω–æ–∂") then
                    hasKnife = true
                elseif toolName:find("gun") or toolName == "gun" then
                    hasGun = true
                end
            end
        end
    end
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç
    if hasKnife then
        return Color3.fromRGB(255, 0, 0) -- –∫—Ä–∞—Å–Ω—ã–π
    elseif hasGun then
        return Color3.fromRGB(0, 0, 255) -- —Å–∏–Ω–∏–π
    else
        return Color3.fromRGB(0, 255, 0) -- –∑–µ–ª–µ–Ω—ã–π
    end
end

-- –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è Highlight
function createHighlight(character, player)
    if highlights[character] then
        highlights[character]:Destroy()
    end
    
    local highlight = Instance.new("Highlight")
    highlight.Name = player.Name .. "_ESP"
    highlight.Adornee = character
    highlight.Parent = espFolder
    highlight.FillTransparency = 0.7
    highlight.OutlineTransparency = 0
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    
    highlights[character] = highlight
    updateHighlightColor(player)
end

-- –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ Highlight
function updateHighlightColor(player)
    local character = player.Character
    if character and highlights[character] then
        highlights[character].FillColor = getPlayerColor(player)
        highlights[character].OutlineColor = getPlayerColor(player)
    end
end

-- –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è Highlight
function removeHighlight(character)
    if highlights[character] then
        highlights[character]:Destroy()
        highlights[character] = nil
    end
end

-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–≥—Ä–æ–∫–æ–≤
function onPlayerAdded(player)
    player.CharacterAdded:Connect(function(character)
        createHighlight(character, player)
    end)
    
    if player.Character then
        createHighlight(player.Character, player)
    end
    
    player.CharacterRemoving:Connect(function(character)
        removeHighlight(character)
    end)
end

-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
function monitorPlayerTools(player)
    local function checkTools()
        updateHighlightColor(player)
    end
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
    local backpack = player:WaitForChild("Backpack")
    backpack.ChildAdded:Connect(checkTools)
    backpack.ChildRemoved:Connect(checkTools)
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ —Ä—É–∫–∞—Ö
    player.CharacterAdded:Connect(function(character)
        character.ChildAdded:Connect(function(child)
            if child:IsA("Tool") then
                checkTools()
            end
        end)
        character.ChildRemoved:Connect(function(child)
            if child:IsA("Tool") then
                checkTools()
            end
        end)
    end)
end

-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è ESP
function enableESP()
    -- –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø–æ–¥—Å–≤–µ—Ç–∫–∏
    for character, highlight in pairs(highlights) do
        highlight:Destroy()
    end
    highlights = {}
    
    -- –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= Players.LocalPlayer then -- –ò—Å–∫–ª—é—á–∞–µ–º —Å–µ–±—è
            onPlayerAdded(player)
            monitorPlayerTools(player)
        end
    end
    
    -- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
    Players.PlayerAdded:Connect(function(player)
        if player ~= Players.LocalPlayer then
            onPlayerAdded(player)
            monitorPlayerTools(player)
        end
    end)
    
    -- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
    local updateConnection
    updateConnection = RunService.Heartbeat:Connect(function()
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= Players.LocalPlayer and player.Character then
                updateHighlightColor(player)
            end
        end
    end)
    
    return updateConnection
end

function disableESP()
    -- –û—á–∏—â–∞–µ–º –≤—Å–µ –ø–æ–¥—Å–≤–µ—Ç–∫–∏
    for character, highlight in pairs(highlights) do
        highlight:Destroy()
    end
    highlights = {}
    
    -- –û—á–∏—â–∞–µ–º –ø–∞–ø–∫—É
    espFolder:ClearAllChildren()
end

-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –≤–∞—à–∏–º toggle
Section:NewToggle("ESP PLAYER", "When you enable the feature, you can see players.", function(state)
    if state then
        print("ESP On")
        enableESP()
    else
        print("ESP Off")
        disableESP()
    end
end)


local Tab = Window:NewTab("Misc")
-- –ü–æ–¥—Å–µ–∫—Ü–∏—è
local Section = Tab:NewSection("Misc")



local Tab = Window:NewTab("Developers")
-- –ü–æ–¥—Å–µ–∫—Ü–∏—è
local Section = Tab:NewSection("Developers")



local Tab = Window:NewTab("News")
-- –ü–æ–¥—Å–µ–∫—Ü–∏—è
local Section = Tab:NewSection("News")
-- –ó–∞–≥–æ–ª–æ–≤–æ–∫
Section:NewLabel("M9KUUVS SOFTWARE SYSTEMS V1.0.0")
Section:NewLabel("Last UPD in 24.09.25")
Section:NewLabel("Thx for play)) ")

